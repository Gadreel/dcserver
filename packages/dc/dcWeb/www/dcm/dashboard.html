<dc.Html Badges="Editor,Admin" NoCache="true">
	<Meta Name="Title">
		<Tr Locale="eng" Value="CMS Dashboard" />
	</Meta>

	<Require Icons="fas/pencil-alt,fas/list,fas/plus" />

	<dc.Body>
		<dc.Style>
#dcDcmDashboard .dc-dashboard-widget {
	border-bottom: 1px solid #999;
}

@media screen and (max-width: 719px) {
	#dcDcmDashboard .dc-layout-collapse-medium .pure-u {
		width: 100%;
	}
}
		</dc.Style>
		<dc.PagePanel id="dcDcmDashboard">
			<Button Icon="fas/recycle" Click="OnRefresh" />

			<dc.RowLayout Collapse="Medium">
				<dc.Column Size="1-2" Pad="Large">
					<div class="dc-dashboard-widget">
						<h2>CMS Mode</h2>

						<p>Widget Editor Enabled</p>
					</div>
				</dc.Column>
				<dc.Column Size="1-2" Pad="Large">
					<div class="dc-dashboard-widget">
						<h2>Alerts</h2>

						<p>Currently no alerts</p>
					</div>
				</dc.Column>
				<dc.Column Size="1-2" Pad="Large">
					<dc.IncludeFragmentInline Path="/dcm/dashboard/drafts-widget" />
				</dc.Column>
				<dc.Column Size="1-2" Pad="Large">
					<div class="dc-dashboard-widget">
						<h2>Managed Forms</h2>

						<p>[Coming soon - recently submitted form]</p>
					</div>
				</dc.Column>
				<dc.Column Size="1-1" Pad="Large">
					<dc.IncludeFragmentInline Path="/dcm/dashboard/feeds-widget" />
				</dc.Column>
			</dc.RowLayout>
		</dc.PagePanel>
	</dc.Body>

	<Function Name="dcmPreload" Mode="Load"><![CDATA[
			var page = this;

			page.Store.RefreshList = [ ];
	]]></Function>
	<Function Name="Load"><![CDATA[
			var page = this;

			page.callPageFunc('OnRefresh');
	]]></Function>
	<Function Name="OnRefresh" Params="e"><![CDATA[
			var page = this;

			for (var i = 0; i < page.Store.RefreshList.length; i++) {
				page.Store.RefreshList[i].call();
			}
	]]></Function>
</dc.Html>
